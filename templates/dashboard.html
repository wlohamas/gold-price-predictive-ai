<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gold Price Predictive Agent (DEMO) by Wittawat Lohamas</title>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;600;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="/static/style.css?v={{ range(100000) | random }}">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels@2.2.0"></script>
    <script src="https://cdn.jsdelivr.net/npm/date-fns@3.3.1/cdn.min.js"></script>
    <script
        src="https://cdn.jsdelivr.net/npm/chartjs-adapter-date-fns@3.0.0/dist/chartjs-adapter-date-fns.bundle.min.js"></script>
</head>

<body>

    <div class="container main-layout">
        <div class="main-content">
            <header>
                <h1 style="margin-bottom: 0.5rem;">Gold Price Predictive - Agent AI</h1>
                <div
                    style="display: flex; align-items: center; justify-content: center; gap: 15px; margin-bottom: 1rem;">
                    <div class="status-indicator">
                        <div class="pulse-dot"></div>
                        <span class="status-text">LIVE DEMO</span>
                    </div>
                    <div id="digital-clock"
                        style="font-family: 'Outfit', sans-serif; font-size: 1.1rem; color: var(--cyan); letter-spacing: 2px; font-weight: 600; padding-left: 15px;">
                        00:00:00</div>
                </div>
                <p>AI/ML Predictive Analytic Live Demo by Wittawat Lohamas</p>
            </header>

            <div class="card-grid">
                <div class="card price-card">
                    <h2>Current Price (GC=F)</h2>
                    <div class="price" id="current-price">Loading...</div>
                    <div class="time">Last Updated: <span id="last-updated">--:--</span></div>
                </div>

                <div class="card prediction-card">
                    <h2>AI Forecast <span id="forecast-time" class="forecast-time-badge">--</span></h2>
                    <div class="price" id="prediction-price">Loading...</div>
                    <div class="trend" id="trend-indicator">Waiting for data...</div>
                </div>

                <div class="card confidence-card">
                    <h2>Confidence Level</h2>
                    <div class="price" id="confidence-score">--%</div>
                    <div class="reasoning" id="confidence-reasoning"
                        style="font-size: 0.85rem; line-height: 1.4; color: #a1a1a1; margin-top: 10px;">
                        วิเคราะห์ข้อมูลพื้นฐาน...
                    </div>
                </div>

                <div class="card accuracy-card">
                    <h2>Model Performance (6h)</h2>
                    <div class="price" id="accuracy-rate">Loading...</div>
                    <div id="accuracy-reason"
                        style="margin-top: 5px; font-size: 0.75rem; color: var(--cyan); text-align: center; font-style: italic; opacity: 0.9;">
                        วิเคราะห์ผลการคำนวณ...</div>
                    <div
                        style="margin-top: 15px; border-top: 1px solid rgba(255,255,255,0.1); padding-top: 10px; font-size: 0.85rem; color: #a1a1a1; display:flex; justify-content: space-between;">
                        <span>RSI: <b id="rsi-val" style="color: #fff">--</b></span>
                        <span>Sentiment: <b id="sentiment-val" style="color: #fff">--</b></span>
                    </div>
                </div>
            </div>

            <div class="card chart-card">
                <canvas id="priceChart"></canvas>
            </div>

        </div>

        <aside class="sidebar">

            <div class="card history-card" style="border: 1px solid var(--cyan);">
                <h2>★★★ 6H PERFORMANCE HISTORY ★★★</h2>
                <div class="table-container">
                    <table id="history-table">
                        <thead>
                            <tr>
                                <th>Time</th>
                                <th>Actual</th>
                                <th>Predicted</th>
                                <th>Accuracy</th>
                            </tr>
                        </thead>
                        <tbody id="history-body">
                            <tr>
                                <td colspan="4" style="text-align:center; padding: 20px; color: var(--text-secondary);">
                                    Waiting for historical data...
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
            <div class="card sentiment-card"
                style="margin-top: 20px; text-align: left; border: 1px solid rgba(255,255,255,0.1);">
                <h2
                    style="margin-bottom: 1rem; font-size: 1rem; color: var(--cyan); display: flex; justify-content: space-between; align-items: center;">
                    <span>Market Sentiment</span>
                    <span id="news-last-updated"
                        style="font-size: 0.7rem; color: #a1a1a1; font-weight: normal;">Refreshed: --:--:--</span>
                </h2>
                <div id="news-summary-list" style="display: grid; gap: 12px;">
                    <div style="color: #a1a1a1; font-style: italic; font-size: 0.8rem;">
                        กำลังรวบรวมข้อมูลข่าวสารล่าสุด...</div>
                </div>
            </div>
        </aside>
    </div>

    <script src="/static/script.js?v=2.24.0&t={{ range(1000000000) | random }}"></script>
    <script>console.log("Dashboard Version: v2.24.0 - Locked Confidence Level Active");</script>
</body>

</html>